(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{17:function(t,n,e){t.exports=e.p+"static/media/taxi.4ba539d0.svg"},19:function(t,n,e){t.exports=e(48)},24:function(t,n,e){},46:function(t,n,e){},47:function(t,n,e){},48:function(t,n,e){"use strict";e.r(n);var o=e(0),a=e.n(o),r=e(6),c=e.n(r),i=(e(24),e(18)),l=e(1),s=e(2),u=e(4),p=e(3),h=e(5),f=e(16),m=e.n(f),d=e(17),g=e.n(d),v=(e(46),function(t){function n(t){return Object(l.a)(this,n),Object(u.a)(this,Object(p.a)(n).call(this,t))}return Object(h.a)(n,t),Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("img",{src:g.a,className:"marker"})}}]),n}(a.a.Component)),b=function(t){function n(){var t,e;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=Object(u.a)(this,(t=Object(p.a)(n)).call.apply(t,[this].concat(a)))).miMap=null,e}return Object(h.a)(n,t),Object(s.a)(n,[{key:"renderMarkers",value:function(t,n){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(n){t.panTo({lat:e.props.lat,lng:e.props.lon}),e.miMap=t}))}},{key:"componentDidUpdate",value:function(){this.miMap&&this.miMap.panTo({lat:this.props.lat,lng:this.props.lon})}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{style:{height:"100vh",width:"100%",alt:"google map of that tracks the taxi driver location"},alt:"lo que sea"},a.a.createElement(m.a,{bootstrapURLKeys:{key:"AIzaSyBQGovuMsVwP-HAiTWrNAVND5JfnikoPZ8"},defaultCenter:{lat:this.props.lat,lng:this.props.lon},defaultZoom:17,onGoogleApiLoaded:function(n){var e=n.map,o=n.maps;return t.renderMarkers(e,o)},yesIWantToUseGoogleMapApiInternals:!0},a.a.createElement(v,{lat:this.props.lat,lng:this.props.lon})))}}]),n}(o.Component);e(47);var w=function(){var t=Object(o.useState)({lat:0,lon:0}),n=Object(i.a)(t,2),e=n[0],r=n[1];return Object(o.useEffect)((function(){var t=new WebSocket("ws://localhost:3001");t.onopen=function(){console.log("open my ws"),t.onmessage=function(t){console.log(t),r(JSON.parse(t.data))}};var n=new URLSearchParams(window.location.search).get("conductor");console.log(n),fetch("/location?conductor="+n).then((function(t){return t.json()})).then((function(t){t.err?console.log(t):r(t)})).catch((function(t){return console.log(t)}))}),[]),a.a.createElement("div",null,a.a.createElement(b,{lat:e.lat,lon:e.lon}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.cf56b39d.chunk.js.map